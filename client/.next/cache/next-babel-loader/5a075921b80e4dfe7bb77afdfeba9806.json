{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Feline\\\\Projects\\\\blog\\\\client\\\\pages\\\\blogs.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../components/header';\nimport axios from 'axios';\n\nfunction BlogPage(props) {\n  var _this = this;\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 13\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 13\n    }\n  }, \"\\u535A\\u5BA2\\u9875\\u9762\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }\n  }, props.blogs.map(function (blog, index) {\n    if (!blog) {\n      return __jsx(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 25\n        }\n      }, \"no data!\");\n    }\n\n    return __jsx(\"li\", {\n      key: blog._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 21\n      }\n    }, __jsx(\"h1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 25\n      }\n    }, blog.title));\n  })));\n}\n\nBlogPage.getInitialProps = function _callee() {\n  var data, err;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          data = null;\n          err = null;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(axios.get('http://127.0.0.1:8000/blogs/list').then(function (res) {\n            data = res.data;\n          })[\"catch\"](function (error) {\n            err = error;\n          }));\n\n        case 4:\n          if (!data) {\n            _context.next = 6;\n            break;\n          }\n\n          return _context.abrupt(\"return\", {\n            props: {\n              blogs: data\n            }\n          });\n\n        case 6:\n          return _context.abrupt(\"return\", {\n            props: {\n              blogs: [{}],\n              err: err\n            }\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default BlogPage;","map":{"version":3,"sources":["C:/Users/Feline/Projects/blog/client/pages/blogs.js"],"names":["Header","axios","BlogPage","props","blogs","map","blog","index","_id","title","getInitialProps","data","err","get","then","res","error"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACrB,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAK,CAACC,KAAN,CAAYC,GAAZ,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAClC,QAAI,CAACD,IAAL,EAAW;AACP,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ;AAGH;;AACD,WACI;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACE,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,IAAI,CAACG,KAAV,CADJ,CADJ;AAKH,GAXI,CAAL,CAHJ,CADJ;AAmBH;;AAEDP,QAAQ,CAACQ,eAAT,GAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,UAAAA,IADmB,GACZ,IADY;AAEnBC,UAAAA,GAFmB,GAEb,IAFa;AAAA;AAAA,2CAGjBX,KAAK,CAACY,GAAN,CAAU,kCAAV,EACDC,IADC,CACI,UAACC,GAAD,EAAS;AACXJ,YAAAA,IAAI,GAAEI,GAAG,CAACJ,IAAV;AACH,WAHC,WAIK,UAACK,KAAD,EAAS;AACZJ,YAAAA,GAAG,GAAGI,KAAN;AACH,WANC,CAHiB;;AAAA;AAAA,eAWfL,IAXe;AAAA;AAAA;AAAA;;AAAA,2CAYR;AACHR,YAAAA,KAAK,EAAC;AACFC,cAAAA,KAAK,EAACO;AADJ;AADH,WAZQ;;AAAA;AAAA,2CAkBZ;AACHR,YAAAA,KAAK,EAAC;AACFC,cAAAA,KAAK,EAAC,CAAC,EAAD,CADJ;AAEFQ,cAAAA,GAAG,EAACA;AAFF;AADH,WAlBY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B;;AA2BA,eAAeV,QAAf","sourcesContent":["import Header from '../components/header'\r\nimport axios from 'axios'\r\n\r\nfunction BlogPage(props) {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <h1>博客页面</h1>\r\n            <ul>{props.blogs.map((blog, index) => {\r\n                if (!blog) {\r\n                    return (\r\n                        <h1>no data!</h1>\r\n                    )\r\n                }\r\n                return (\r\n                    <li key={blog._id}>\r\n                        <h1>{blog.title}</h1>\r\n                    </li>\r\n                )\r\n            })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nBlogPage.getInitialProps = async () => {\r\n    let data = null\r\n    let err = null\r\n    await axios.get('http://127.0.0.1:8000/blogs/list')\r\n        .then((res) => {\r\n            data= res.data\r\n        })\r\n        .catch((error)=>{\r\n            err = error\r\n        })\r\n\r\n        if (data) {\r\n            return {\r\n                props:{\r\n                    blogs:data\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            props:{\r\n                blogs:[{}],\r\n                err:err\r\n            }\r\n        }\r\n\r\n}\r\n\r\nexport default BlogPage\r\n\r\n"]},"metadata":{},"sourceType":"module"}