{"version":3,"file":"static/webpack/static\\development\\pages\\blogs.js.2a2c4281ca2ce60af9c3.hot-update.js","sources":["webpack:///./Components/BlogHeader.js","webpack:///./pages/blogs.js"],"sourcesContent":["import Link from 'next/link'\r\nimport axios from 'axios'\r\nimport Router from 'next/router'\r\n\r\nconst blogOperations = ['add','update']\r\n\r\nexport default function BlogHeader(props){\r\n\r\n    function deleteBlog(){\r\n        const id = props.id\r\n        axios.post(`http://localhost:8000/blogs/delete?id=${id}`)\r\n        .then((res)=>{\r\n            console.log(res)\r\n            Router.push('/blogs')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {blogOperations.map((operation,index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <Link href='/operation/[operation]' as={`/operation/${operation}`}>\r\n                                <a>{operation}</a>\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n            <input type=\"button\" onClick={deleteBlog} value=\"删除\"/>\r\n        </div>\r\n    )\r\n}","import Header from '../components/header'\r\nimport Link from 'next/link'\r\nimport axios from 'axios'\r\nimport BlogHead from '../Components/BlogHeader'\r\n\r\nfunction BlogPage({ data, error }) {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <h1>博客页面</h1>\r\n            <BlogHead />\r\n            <ul>{data ? data.map((blog, index) => {\r\n                return (\r\n                    <li key={blog._id}>\r\n                        <Link href=\"/blog/[id]\" as={`/blog/${blog._id}`}>\r\n                            <a>\r\n                                <h1>{blog.title}</h1>\r\n                            </a>\r\n                        </Link>\r\n                    </li>\r\n                )\r\n            }) : function () {\r\n                return (\r\n                    <p>failed:{err}</p>\r\n                )\r\n            }()}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport async function getStaticProps(context) {\r\n    let data = null\r\n    let err = null\r\n    await axios.get('http://127.0.0.1:8000/blogs/list')\r\n        .then((res) => {\r\n            console.log(res.data)\r\n            data = res.data\r\n        })\r\n        .catch((error) => {\r\n            err = error\r\n        })\r\n\r\n    return {\r\n        props: { data, err }\r\n    }\r\n}\r\n\r\nexport default BlogPage\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;;;;;ACjCA;AACA;AAEA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;;AAmBA;;;;A","sourceRoot":""}